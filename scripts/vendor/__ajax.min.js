function __ajax(a,b){let c,d={},e=a,f='',g=a=>{for(let b in f='',a)a.hasOwnProperty(b)&&(f+=b+'='+a[b]+'&');f=f.substr(0,f.length-1)};d.method=b===void 0?'GET':b.method||'POST','undefined'!=typeof b&&'undefined'!=typeof b.parameters&&g(b.parameters);c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject('Microsoft.XMLHTTP');let h=null;return{setUrl:a=>{e=a},setParameters:g,addParameters:a=>{for(let b in a)a.hasOwnProperty(b)&&(f+=`&${b}=${a[b]}`)},getParameters:()=>f,setMethod:a=>{d.method=a},get:()=>(h=new Promise((a,b)=>{c.onreadystatechange=()=>{4===c.readyState&&(200===c.status?a(c.responseText):400===c.status?b('[400]'):b('[ne 200]'))},c.open(d.method,e,!0),c.setRequestHeader('X-Requested-With','XMLHttpRequest'),c.setRequestHeader('Content-Type','application/x-www-form-urlencoded'),c.send(f)}),h)}}